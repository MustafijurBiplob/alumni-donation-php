<?php
    // এই ফাইলটি /admin/ ডিরেক্টরির জন্য গেটকিপার হিসেবে কাজ করে।
    // এটি অ্যাডমিন অথেন্টিকেশন চেক করে এবং সেই অনুযায়ী রিডিরেক্ট করে।

    require_once __DIR__ . '/../config.php'; // কনফিগারেশন এবং সেশন শুরু করার জন্য অ্যাক্সেস
    require_once __DIR__ . '/../includes/functions.php'; // সহায়ক ফাংশন যেমন is_logged_in(), is_admin(), redirect() অ্যাক্সেস

    if (is_logged_in() && is_admin()) {
        // ব্যবহারকারী লগইন করেছেন এবং অ্যাডমিন, তাহলে অ্যাডমিন ড্যাশবোর্ডে যান
        redirect('admin/dashboard.php');
    } else {
        // ব্যবহারকারী লগইন করেননি বা অ্যাডমিন নয়
        // তাদের অ্যাডমিন লগইন পেজে রিডিরেক্ট করুন
        // অপশনাল: যদি তারা লগইন থাকে কিন্তু অ্যাডমিন না হয়, তবে একটি মেসেজ সেট করা হয়
        if (is_logged_in() && !is_admin()) {
             set_message("আপনার অ্যাডমিন অধিকার নেই।", "warning");
        } else {
             set_message("এই এলাকায় প্রবেশ করতে একটি অ্যাডমিন হিসেবে লগইন করুন।", "info");
        }
        redirect('admin/login.php');
    }

    // আর কোন আউটপুট প্রয়োজন নেই, কারণ redirect() ফাংশন এক্সিট করার সাথে সাথে স্ক্রিপ্ট বন্ধ করে দেয়
?>
